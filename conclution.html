<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ULTRA SPOTTER // VICTORY</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Archivo+Black&family=Press+Start+2P&display=swap" rel="stylesheet">
    <style>
        :root {
            --magenta: #ff00ff;
            --cyan: #00ffff;
            --yellow: #ffff00;
            --orange: #ff6b00;
            --purple: #7a00ff;
            --bg: #0d0221;
        }

        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: var(--bg);
            font-family: 'Archivo Black', sans-serif;
        }

        /* MAXIMALIST LAYOUT */
        .outro-layer {
            position: fixed;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            border: 12px solid #fff;
            box-shadow: inset 0 0 100px var(--magenta);
            background: radial-gradient(circle, #1a0033 0%, #0d0221 100%);
            overflow: hidden;
        }

        .checker-overlay {
            position: absolute;
            inset: -50%;
            background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%), 
                              linear-gradient(-45deg, rgba(255, 255, 255, 0.05) 25%, transparent 25%);
            background-size: 40px 40px;
            animation: moveBG 4s linear infinite;
            z-index: 0;
        }

        @keyframes moveBG { from { transform: translate(0,0); } to { transform: translate(40px,40px); } }

        /* TEXT ANIMATIONS */
        .victory-title {
            font-size: clamp(3rem, 12vw, 8rem);
            line-height: 0.8;
            text-align: center;
            color: white;
            z-index: 10;
            text-shadow: 10px 10px 0px var(--magenta), -6px -6px 0px var(--cyan), 15px 0px 0px var(--yellow);
            transform: scale(0) rotate(10deg);
            opacity: 0;
        }

        .slam-in {
            animation: slam 0.6s cubic-bezier(0.17, 0.89, 0.32, 1.49) forwards;
        }

        @keyframes slam {
            0% { transform: scale(8) rotate(-20deg); opacity: 0; filter: blur(30px); }
            100% { transform: scale(1) rotate(-3deg); opacity: 1; filter: blur(0); }
        }

        /* SCORE TICKER */
        .score-box {
            margin-top: 40px;
            background: #000;
            border: 6px solid #fff;
            padding: 20px 40px;
            box-shadow: 12px 12px 0px var(--cyan);
            z-index: 10;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.5s ease-out;
        }

        .arcade-text {
            font-family: 'Press Start 2P', cursive;
            color: var(--yellow);
            font-size: 1.2rem;
            text-shadow: 4px 4px 0px #000;
        }

        /* VFX: CONFETTI & COINS */
        .particle {
            position: absolute;
            pointer-events: none;
            z-index: 5;
            animation: particleFall 1.5s forwards ease-out;
        }

        @keyframes particleFall {
            0% { transform: translate(0, 0) scale(1) rotate(0deg); opacity: 1; }
            100% { transform: translate(var(--tx), var(--ty)) scale(0) rotate(360deg); opacity: 0; }
        }

        /* WRAP/TELEPORT TRANSITION */
        .glitch-teleport {
            animation: teleport 0.5s steps(4) forwards;
        }

        @keyframes teleport {
            0% { clip-path: inset(0 0 0 0); filter: hue-rotate(0deg); }
            50% { clip-path: inset(20% 0 50% 0); transform: translateX(20px); filter: invert(1); }
            100% { clip-path: inset(0 0 0 0); transform: scale(0); opacity: 0; }
        }

        /* FINAL SCREEN STYLES */
        .conclusion-page {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 500;
        }

        .sticker-card {
            background: white;
            color: black;
            padding: 30px;
            border: 8px solid #000;
            transform: rotate(2deg);
            box-shadow: 15px 15px 0px var(--orange);
            max-width: 500px;
        }

        /* REDUCED MOTION */
        @media (prefers-reduced-motion: reduce) {
            .victory-title, .score-box, .particle { animation: none !important; opacity: 1 !important; transform: none !important; }
        }
    </style>
</head>
<body>

    <!-- MOCK GAMEPLAY TRIGGER (For Demo Purposes) -->
    <div id="game-simulation" class="h-screen w-screen flex items-center justify-center bg-indigo-900">
        <button onclick="triggerOutro()" class="bg-white text-black p-6 heavy-font text-3xl border-4 border-black hover:bg-yellow-400 transition-colors">
            FINISH MISSION
        </button>
    </div>

    <!-- OUTRO ANIMATION LAYER -->
    <div id="outroLayer" class="outro-layer hidden">
        <div class="checker-overlay"></div>
        <div id="flash" class="absolute inset-0 bg-white opacity-0 z-[2000] pointer-events-none"></div>
        
        <h1 id="victoryText" class="victory-title">REALITY<br>VERIFIED</h1>

        <div id="scoreBox" class="score-box">
            <div class="arcade-text mb-4">TOTAL XP: <span id="xpCount" class="text-white">0</span></div>
            <div class="arcade-text mb-4">ACCURACY: <span id="accCount" class="text-white">0</span>%</div>
            <div class="arcade-text">STREAK: <span id="streakCount" class="text-white">0</span></div>
        </div>
    </div>

    <!-- CONCLUSION PAGE (The destination) -->
    <div id="conclusionPage" class="conclusion-page hidden">
        <div class="sticker-card">
            <h2 class="heavy-font text-6xl mb-6">UNSTOPPABLE</h2>
            <p class="text-xl mb-8 arcade-text" style="color: black; font-size: 0.8rem; text-shadow: none;">RANK: REALITY BENDER</p>
            <div class="border-t-4 border-black pt-6">
                <button onclick="location.reload()" class="bg-magenta text-white p-4 heavy-font text-2xl border-4 border-black shadow-[8px_8px_0px_#000] hover:translate-x-1 hover:translate-y-1 hover:shadow-none transition-all">
                    REPLAY
                </button>
            </div>
        </div>
    </div>

    <script>
        function triggerOutro() {
            const outro = document.getElementById('outroLayer');
            const flash = document.getElementById('flash');
            const victoryText = document.getElementById('victoryText');
            const scoreBox = document.getElementById('scoreBox');
            
            outro.classList.remove('hidden');

            // 1. Neon Pulse/Flash
            flash.style.opacity = '1';
            setTimeout(() => { flash.style.opacity = '0'; flash.style.transition = 'opacity 0.6s ease'; }, 50);

            // 2. Title Slam
            setTimeout(() => {
                victoryText.classList.add('slam-in');
                spawnConfetti();
            }, 300);

            // 3. Score Count-up
            setTimeout(() => {
                scoreBox.style.opacity = '1';
                scoreBox.style.transform = 'translateY(0)';
                animateValue("xpCount", 0, 4550, 2000);
                animateValue("accCount", 0, 98, 2000);
                animateValue("streakCount", 0, 12, 2000);
            }, 1000);

            // 4. Glitch Teleport to Conclusion
            setTimeout(() => {
                outro.classList.add('glitch-teleport');
                setTimeout(() => {
                    outro.style.display = 'none';
                    document.getElementById('conclusionPage').classList.remove('hidden');
                }, 500);
            }, 5500);
        }

        function animateValue(id, start, end, duration) {
            const obj = document.getElementById(id);
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                obj.innerHTML = Math.floor(progress * (end - start) + start);
                // Intensify glow
                obj.style.textShadow = `0 0 ${progress * 20}px var(--cyan)`;
                if (progress < 1) {
                    window.requestAnimationFrame(step);
                }
            };
            window.requestAnimationFrame(step);
        }

        function spawnConfetti() {
            const container = document.getElementById('outroLayer');
            const colors = ['#ff00ff', '#00ffff', '#ffff00', '#ff6b00', '#7a00ff'];
            for (let i = 0; i < 50; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                const color = colors[Math.floor(Math.random() * colors.length)];
                const size = Math.random() * 20 + 10;
                
                p.style.width = `${size}px`;
                p.style.height = `${size}px`;
                p.style.backgroundColor = color;
                p.style.border = '2px solid white';
                p.style.left = '50%';
                p.style.top = '40%';
                
                const tx = (Math.random() - 0.5) * 800;
                const ty = (Math.random() - 0.5) * 800;
                p.style.setProperty('--tx', `${tx}px`);
                p.style.setProperty('--ty', `${ty}px`);

                container.appendChild(p);
                setTimeout(() => p.remove(), 2000);
            }
        }
    </script>
</body>
</html>